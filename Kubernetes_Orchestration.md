# 컨테이너 오케스트레이션

**Docker**

- Container의 특징
    - 가상 머신과 비교하여 컨테이너 생성이 쉽고 효율적이다.
    - 컨테이너 이미지를 이용한 배포와 롤백이 간단하다.
    - 언어나 프레임워크에 상관없이 애플리케이션을 동일한 방식으로 관리한다.
    - 개발, 테스트, 운영 환경은 물론 로컬 PC와 클라우드까지 동일한 환경을 구축한다.
    - 특정 클라우드 벤더에 종속적이지 않다.

**Container Orchestration**

- 복잡한 컨테이너 환경을 효과적으로 관리하기 위한 도구이다.
- 특징
    - 중앙 제어
        - 노드를 하나하나 관리하는게 아닌 Cluster 단위로 추상화해서 관리를 한다.
    - 네트워킹
        - 서버들끼리 통신을 하는데 문제가 없도록 설정을 해야 한다.
    - 노드 스케일
        - 노드의 개수가 수천 개, 수만 개가 되더라도 문제 없이 운영이 되어야 한다.
        - 처음 설계를 할 때 잘 설계되지 않으면 결국 부하를 다 감당하지 못하게 된다.
    - 상태 관리
        - 컨테이너 개수를 2개에서 3개로 변경 시 자동으로 컨테이너가 추가되는 상황이 있다.
        - 이 때, 컨테이너에 문제가 생겼을 때 문제가 생긴 컨테이너를 죽이고 또 하나를 띄우는 것까지 관리를 해주는 것이 상태 관리이다.
    - 배포 관리
        - 서버에 애플리케이션이 추가될 때 여유가 있는 적절한 서버를 자동으로 체크하여 추가해주는 스케줄링 기능이 필요하다.
        - 추가로, 서버가 부족할 때에도 서버를 하나 더 띄우고 컨테이너를 띄워주는 것까지 스케줄링해줄 수 있는 기능이 필요하다.
    - 배포 버전 관리
        - 배포 후 문제가 발생하여 롤백 시 자동으로 중앙화하여 배포 버전을 관리하는 것이 필요하다.
    - 서비스 등록 및 조회
        - 관리자가 IP를 하나하나 바꿀 필요 없이 프로그램이 자동으로 재설정을 할 수 있어야 한다.
    - 볼륨 스토리지
        - 3개의 노드가 있을 때 각각 필요한 볼륨들을 마운트해야 될 수 있다.
        - 각각 NFS, AWS, Google Cloud 등의 스토리지를 연결해야 될 상황이 있을 때 추상적으로 설정으로 관리할 수 있어야 한다.
- 결국, 이 Container Orchestration을 관리할 수 있도록 **Kubernetes**를 공부할 것이다.

**Kubernetes**

- 컨테이너를 쉽고 빠르게 배포/확장하고 관리를 자동화해주는 오픈소스 플랫폼이다.
- 특징
    - Planet Scale
        - 상상하지 못할 양의 컨테이너를 관리할 수 있다.
    - Never Outgrow
        - 다양한 요구사항을 만족시킬 수 있는 굉장히 유연한 성격을 가지고 있다.
    - Run Anywhere
        - 어디서든 동작할 수 있다.
- 컨테이너 오케스트레이션의 사실상의 표준이며, Cloud Native의 핵심 역할이다.
